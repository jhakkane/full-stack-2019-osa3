{"version":3,"sources":["components/components.js","services/dataservice.js","App.js","index.js"],"names":["Notification","_ref","message","react_default","a","createElement","className","style","text","Filter","_ref2","query","handleQuery","value","onChange","PersonForm","_ref3","addPerson","newName","handleNewName","newNumber","handleNewNumber","onSubmit","type","Person","_ref4","person","deletePerson","name","number","onClick","Persons","_ref5","persons","filter","toLowerCase","includes","map","components_Person","key","id","baseUrl","dataservice","axios","get","then","response","data","newObject","post","put","concat","delete","App","_useState","useState","_useState2","Object","slicedToArray","setPersons","_useState3","_useState4","setNewName","_useState5","_useState6","setNewNumber","_useState7","_useState8","setQuery","_useState9","_useState10","setMessage","useEffect","createNotification","setTimeout","addNewPerson","newPerson","catch","error","errorText","initNameAndNumber","confirmUpdate","origPerson","msg","window","confirm","updatePerson","updatedPerson","newPersons","push","components_Notification","components_Filter","event","target","components_PersonForm","preventDefault","find","components_Persons","deletablePerson","ReactDOM","render","src_App","document","getElementById"],"mappings":"qMAEMA,EAAe,SAAAC,GAAiB,IAAdC,EAAcD,EAAdC,QACtB,OAAgB,OAAZA,EACK,KAIPC,EAAAC,EAAAC,cAAA,OAAKC,UAAWJ,EAAQK,OACrBL,EAAQM,OAKTC,EAAS,SAAAC,GAA0B,IAAxBC,EAAwBD,EAAxBC,MAAOC,EAAiBF,EAAjBE,YACtB,OACET,EAAAC,EAAAC,cAAA,gCACoBF,EAAAC,EAAAC,cAAA,SAAOQ,MAAOF,EAAOG,SAAUF,MAKjDG,EAAa,SAAAC,GAAqE,IAAnEC,EAAmED,EAAnEC,UAAWC,EAAwDF,EAAxDE,QAASC,EAA+CH,EAA/CG,cAAeC,EAAgCJ,EAAhCI,UAAWC,EAAqBL,EAArBK,gBACjE,OACElB,EAAAC,EAAAC,cAAA,QAAMiB,SAAUL,GACdd,EAAAC,EAAAC,cAAA,oBACQF,EAAAC,EAAAC,cAAA,SAAOQ,MAAOK,EAASJ,SAAUK,KAEzChB,EAAAC,EAAAC,cAAA,sBACUF,EAAAC,EAAAC,cAAA,SAAOQ,MAAOO,EAAWN,SAAUO,KAE7ClB,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,UAAQkB,KAAK,UAAb,UAMFC,EAAS,SAAAC,GAAA,IAAEC,EAAFD,EAAEC,OAAQC,EAAVF,EAAUE,aAAV,OACbxB,EAAAC,EAAAC,cAAA,UACGqB,EAAOE,KADV,IACiBF,EAAOG,OACtB1B,EAAAC,EAAAC,cAAA,UAAQyB,QAAS,kBAAMH,EAAaD,KAApC,YAIEK,EAAU,SAAAC,GAAoC,IAAlCC,EAAkCD,EAAlCC,QAAStB,EAAyBqB,EAAzBrB,MAAOgB,EAAkBK,EAAlBL,aAQhC,OACExB,EAAAC,EAAAC,cAAA,UAPE4B,EAAQC,OACN,SAAAR,GAAM,OAAKf,GAASe,EAAOE,KAAKO,cAAcC,SAASzB,EAAMwB,iBAC9DE,IAAI,SAAAX,GAAM,OACTvB,EAAAC,EAAAC,cAACiC,EAAD,CAAQC,IAAKb,EAAOc,GAAId,OAAQA,EAAQC,aAAcA,wBCjDxDc,EAAU,eAuBDC,EArBA,WAEb,OADgBC,IAAMC,IAAIH,GACXI,KAAK,SAAAC,GAAQ,OAAIA,EAASC,QAmB5BL,EAhBA,SAAAM,GAEb,OADgBL,IAAMM,KAAKR,EAASO,GACrBH,KAAK,SAAAC,GAAQ,OAAIA,EAASC,QAc5BL,EAXA,SAACF,EAAIQ,GAElB,OADgBL,IAAMO,IAAN,GAAAC,OAAaV,EAAb,KAAAU,OAAwBX,GAAMQ,GAC/BH,KAAK,SAAAC,GAAQ,OAAIA,EAASC,QAS5BL,EANA,SAACF,GAEd,OADgBG,IAAMS,OAAN,GAAAD,OAAgBV,EAAhB,KAAAU,OAA2BX,IAC5BK,KAAK,SAAAC,GAAQ,OAAIA,EAASC,QC0G5BM,SAzHH,WAAM,IAAAC,EACeC,mBAAS,IADxBC,EAAAC,OAAAC,EAAA,EAAAD,CAAAH,EAAA,GACRrB,EADQuB,EAAA,GACCG,EADDH,EAAA,GAAAI,EAEgBL,mBAAS,IAFzBM,EAAAJ,OAAAC,EAAA,EAAAD,CAAAG,EAAA,GAER1C,EAFQ2C,EAAA,GAECC,EAFDD,EAAA,GAAAE,EAGoBR,mBAAS,IAH7BS,EAAAP,OAAAC,EAAA,EAAAD,CAAAM,EAAA,GAGR3C,EAHQ4C,EAAA,GAGGC,EAHHD,EAAA,GAAAE,EAIYX,mBAAS,IAJrBY,EAAAV,OAAAC,EAAA,EAAAD,CAAAS,EAAA,GAIRvD,EAJQwD,EAAA,GAIDC,EAJCD,EAAA,GAAAE,EAKgBd,mBAAS,MALzBe,EAAAb,OAAAC,EAAA,EAAAD,CAAAY,EAAA,GAKRnE,EALQoE,EAAA,GAKCC,EALDD,EAAA,GAOhBE,oBAAU,WACR9B,IAEGG,KAAK,SAAAC,GACJa,EAAWb,MAEd,IAEH,IAAM2B,EAAqB,SAACjE,EAAMD,GAGhCgE,EADiB,CAAC/D,OAAMD,MADxBA,EAAQA,GAAS,YAGjBmE,WAAW,WACTH,EAAW,OACV,MAaCI,EAAe,WAEnBjC,EADkB,CAAEd,KAAMV,EAASW,OAAQT,IAGxCyB,KAAK,SAAA+B,GACJjB,EAAW1B,EAAQkB,OAAOyB,IAC1BH,EAAkB,SAAAtB,OAAUjC,MAE7B2D,MAAM,SAAAC,GACL,IAAMC,EAAYD,EAAMhC,SAASC,KAAK+B,MACtCL,EAAmBM,EAAW,WAElCC,KAGIC,EAAgB,SAACC,GACrB,IAAMC,EAAG,GAAAhC,OAAMjC,EAAN,sEACSkE,OAAOC,QAAQF,KAE/BG,EAAaJ,GACbF,MAIEM,EAAe,SAACJ,GACpB,IAAMN,EAAY,CAAEhD,KAAMV,EAASW,OAAQT,GAC3CsB,EACUwC,EAAW1C,GAAIoC,GACtB/B,KAAK,SAAA0C,GACJ,IAAIC,EAAavD,EAAQC,OAAO,SAAAR,GAAM,OAAIA,EAAOc,KAAO0C,EAAW1C,KACnEgD,EAAWC,KAAKF,GAChB5B,EAAW6B,GACXf,EAAkB,UAAAtB,OAAWjC,EAAX,yBAEnB2D,MAAM,SAAAC,GACLnB,EAAW1B,EAAQC,OAAO,SAAAR,GAAM,OAAIA,EAAOc,KAAO0C,EAAW1C,MAC7DiC,EAAkB,UAAAtB,OAAWjC,EAAX,8CAAgE,YAIlF8D,EAAoB,WACxBlB,EAAW,IACXG,EAAa,KAwBf,OACE9D,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,uBAEAF,EAAAC,EAAAC,cAACqF,EAAD,CAAcxF,QAASA,IAEvBC,EAAAC,EAAAC,cAACsF,EAAD,CAAQhF,MAAOA,EAAOC,YARN,SAACgF,GAAD,OAAWxB,EAASwB,EAAMC,OAAOhF,UAUjDV,EAAAC,EAAAC,cAAA,uBAEAF,EAAAC,EAAAC,cAACyF,EAAD,CAAY7E,UAtFE,SAAC2E,GACjBA,EAAMG,iBACN,IAAIb,EAAajD,EAAQ+D,KAAK,SAAAtE,GAAM,OAAIA,EAAOE,OAASV,IACpDgE,EACFD,EAAcC,GAEdP,KAgFkCzD,QAASA,EAASC,cAdlC,SAACyE,GAAD,OAAW9B,EAAW8B,EAAMC,OAAOhF,QAenDO,UAAWA,EAAWC,gBAdJ,SAACuE,GAAD,OAAW3B,EAAa2B,EAAMC,OAAOhF,UAgBzDV,EAAAC,EAAAC,cAAA,qBAEAF,EAAAC,EAAAC,cAAC4F,EAAD,CAAShE,QAASA,EAAStB,MAAOA,EAAOgB,aApCxB,SAACuE,GACpB,IAAMf,EAAG,UAAAhC,OAAa+C,EAAgBtE,KAA7B,KACSwD,OAAOC,QAAQF,IAE/BzC,EACUwD,EAAgB1D,IACvBK,KAAK,WACJc,EAAW1B,EAAQC,OAAO,SAAAR,GAAM,OAAIA,EAAOc,KAAO0D,EAAgB1D,MAClEiC,EAAkB,UAAAtB,OAAW+C,EAAgBtE,KAA3B,yBAEnBiD,MAAM,WACLlB,EAAW1B,EAAQC,OAAO,SAAAR,GAAM,OAAIA,EAAOc,KAAO0D,EAAgB1D,MAClEiC,EAAkB,UAAAtB,OAAW+C,EAAgBtE,KAA3B,uCC5F5BuE,IAASC,OAAOjG,EAAAC,EAAAC,cAACgG,EAAD,MAASC,SAASC,eAAe","file":"static/js/main.d2f7a5b8.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst Notification = ({ message }) => {\r\n  if (message === null) {\r\n    return null\r\n  }\r\n\r\n  return (\r\n    <div className={message.style}>\r\n      {message.text}\r\n    </div>\r\n  )\r\n}\r\n\r\nconst Filter = ({query, handleQuery}) => {\r\n  return (\r\n    <div>\r\n      filter shown with <input value={query} onChange={handleQuery}/>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst PersonForm = ({addPerson, newName, handleNewName, newNumber, handleNewNumber}) => {\r\n  return (\r\n    <form onSubmit={addPerson}>\r\n      <div>\r\n        name: <input value={newName} onChange={handleNewName} />\r\n      </div>\r\n      <div>\r\n        number: <input value={newNumber} onChange={handleNewNumber} />\r\n      </div>\r\n      <div>\r\n        <button type=\"submit\">add</button>\r\n      </div>\r\n    </form>\r\n  )\r\n}\r\n\r\nconst Person = ({person, deletePerson}) => (\r\n  <li>\r\n    {person.name} {person.number}\r\n    <button onClick={() => deletePerson(person)}>delete</button>\r\n  </li>  \r\n)\r\n\r\nconst Persons = ({persons, query, deletePerson}) => {\r\n  const personList = () => (\r\n      persons.filter(\r\n        person => !query || person.name.toLowerCase().includes(query.toLowerCase()))\r\n      .map(person => \r\n        <Person key={person.id} person={person} deletePerson={deletePerson}/>)\r\n  )\r\n\r\n  return (\r\n    <ul>\r\n      {personList()}\r\n    </ul>\r\n  )\r\n}\r\n\r\nexport {Filter, PersonForm, Persons, Notification}","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n  const request = axios.post(baseUrl, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst remove = (id) => {\r\n  const request = axios.delete(`${baseUrl}/${id}`)\r\n  return request.then(response => response.data)\r\n}\r\n\r\n\r\nexport default { getAll, create, update, remove }","import React, { useState, useEffect } from 'react'\nimport {Filter, PersonForm, Persons, Notification} from './components/components.js'\nimport dataservice from './services/dataservice.js'\nimport './index.css'\n \nconst App = () => {\n  const [ persons, setPersons] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ query, setQuery ] = useState('')\n  const [ message, setMessage ] = useState(null)\n\n  useEffect(() => {\n    dataservice\n      .getAll()\n      .then(response => {\n        setPersons(response)\n      })\n  }, [])\n\n  const createNotification = (text, style) => {\n    style = style || 'success'\n    let newMessage = {text, style}\n    setMessage(newMessage);\n    setTimeout(() => {\n      setMessage(null);\n    }, 5000)\n  }\n\n  const addPerson = (event) => {\n    event.preventDefault()\n    let origPerson = persons.find(person => person.name === newName)\n    if (origPerson) {\n      confirmUpdate(origPerson)\n    } else {\n      addNewPerson();\n    }\n  }\n\n  const addNewPerson = () => {\n    const newPerson = { name: newName, number: newNumber }\n    dataservice\n      .create(newPerson)\n      .then(newPerson => {\n        setPersons(persons.concat(newPerson))\n        createNotification(`Added ${newName}`)\n      })\n      .catch(error => {\n        const errorText = error.response.data.error\n        createNotification(errorText, 'error')\n      })\n    initNameAndNumber()\n  }\n\n  const confirmUpdate = (origPerson) => {\n    const msg = `${newName} is already added to phonebook. Replace old number with a new one?`\n    const confirmed = window.confirm(msg)\n    if (confirmed) {\n      updatePerson(origPerson)\n      initNameAndNumber()\n    }\n  }\n\n  const updatePerson = (origPerson) => {\n    const newPerson = { name: newName, number: newNumber }\n    dataservice\n      .update(origPerson.id, newPerson)\n      .then(updatedPerson => {\n        let newPersons = persons.filter(person => person.id !== origPerson.id)\n        newPersons.push(updatedPerson)\n        setPersons(newPersons)\n        createNotification(`Person ${newName} has been updated!`)\n      })\n      .catch(error => {\n        setPersons(persons.filter(person => person.id !== origPerson.id))\n        createNotification(`Person ${newName} has already been removed from the server!`, 'error')\n      })\n  }\n\n  const initNameAndNumber = () => {\n    setNewName('')\n    setNewNumber('')\n  }\n\n  const deletePerson = (deletablePerson) => {\n    const msg = `Delete ${deletablePerson.name}?`\n    const confirmed = window.confirm(msg);\n    if (confirmed) {\n      dataservice\n        .remove(deletablePerson.id)\n        .then(() => {\n          setPersons(persons.filter(person => person.id !== deletablePerson.id))\n          createNotification(`Person ${deletablePerson.name} has been deleted!`)\n        })\n        .catch(() => {\n          setPersons(persons.filter(person => person.id !== deletablePerson.id))\n          createNotification(`Person ${deletablePerson.name} has already been deleted!`)\n        })\n    }\n  }\n\n  const handleNewName = (event) => setNewName(event.target.value)\n  const handleNewNumber = (event) => setNewNumber(event.target.value)\n  const handleQuery = (event) => setQuery(event.target.value)\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n\n      <Notification message={message} />\n\n      <Filter query={query} handleQuery={handleQuery} />\n\n      <h2>Add a new</h2>\n\n      <PersonForm addPerson={addPerson} newName={newName} handleNewName={handleNewName}\n        newNumber={newNumber} handleNewNumber={handleNewNumber} />\n\n      <h2>Numbers</h2>\n\n      <Persons persons={persons} query={query} deletePerson={deletePerson}/>\n    </div>\n  )\n\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}